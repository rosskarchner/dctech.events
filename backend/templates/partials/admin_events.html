{% if events %}
<table class="table">
  <thead>
    <tr>
      <th>Title</th>
      <th>Date</th>
      <th>Time</th>
      <th>Location</th>
      <th>Source</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for e in events %}
    <tr id="event-row-{{ e.guid }}">
      <td>
        {% if e.url %}<a href="{{ e.url }}" target="_blank">{{ e.title | default('Untitled') }}</a>
        {% else %}{{ e.title | default('Untitled') }}{% endif %}
      </td>
      <td>{{ e.date | default('') }}{% if e.end_date %} â€“ {{ e.end_date }}{% endif %}</td>
      <td>{{ e.time | default('All day') }}</td>
      <td>{{ e.location | default('') }}{% if not e.location %}{{ e.city | default('') }}{% if e.state %}, {{ e.state }}{% endif %}{% endif %}</td>
      <td><span class="badge">{{ e.source | default('ical') }}</span></td>
      <td>
        <button class="btn btn-sm"
          hx-get="/admin/events/{{ e.guid }}/edit"
          hx-target="closest tr"
          hx-swap="outerHTML">Edit</button>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<p class="text-muted">{{ events | length }} event(s) found.</p>
{% else %}
<p class="text-muted">No events found{% if date_filter %} for "{{ date_filter }}"{% endif %}.</p>
{% endif %}
