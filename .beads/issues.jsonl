{"id":"dctech.events-0iu","title":"Combine dctech.events and next.dctech.events functionality","description":"The main body of the site should remain statically generated and cached for 24 hours, but the API routes should also live on that domain and eliminate the need for the 'next' domain and cloudfront distribution.","status":"open","priority":1,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T14:46:44.496674014-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T14:46:44.496674014-05:00"}
{"id":"dctech.events-0qa","title":"Filter out hidden events from main page display","description":"Events marked with 'hidden: true' in _event_overrides/*.yaml are still showing on the main page. Need to add filtering logic in generate_month_data.py after applying overrides (around line 690-751) to exclude events where hidden=true before including them in all_events.","status":"closed","priority":1,"issue_type":"bug","owner":"ross@karchner.com","created_at":"2026-01-31T23:51:15.987760162-05:00","created_by":"Ross Karchner","updated_at":"2026-01-31T23:52:16.495342886-05:00","closed_at":"2026-01-31T23:52:16.495342886-05:00","close_reason":"Added filtering logic to skip events with hidden: true flag in both iCal and manual event processing"}
{"id":"dctech.events-0tb","title":"Disable GitHub Actions workflows","description":"Disable/rename workflow files: deploy.yml, post-daily-event-summary.yml, post-newsletter-microblog.yml, social-media-posts.yml, prune-events.yml. Keep test.yml for CI. Add .disabled extension or move to _disabled folder.","status":"closed","priority":2,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-17T11:17:28.546294474-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T11:44:38.528337394-05:00","closed_at":"2026-02-17T11:44:38.528337394-05:00","close_reason":"Already done in Phase 2-3 commit: workflow files renamed to .disabled"}
{"id":"dctech.events-1q0","title":"Implement API Key storage and management in DynamoDB","description":"Add support for API_KEY entities in the single-table DynamoDB design. PK: APIKEY#{key}, SK: META. GSI1PK: USER#{email}, GSI1SK: APIKEY#{key}. Include fields for user_email, role (regular/admin), and metadata. Update backend/db.py with CRUD operations for API keys.","status":"open","priority":2,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T14:46:54.592074228-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T14:46:54.592074228-05:00"}
{"id":"dctech.events-2k5","title":"Develop OpenAPI specification for Bedrock/MCP integration","description":"Bedrock Agents require an OpenAPI 3.0 specification to understand and interact with the API Gateway. Document existing public and submission endpoints, ensuring they are structured for LLM consumption. Include schemas for events, groups, and submission drafts.","status":"closed","priority":2,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T07:51:39.548681704-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T11:17:03.076279459-05:00","closed_at":"2026-02-17T11:17:03.076279459-05:00","close_reason":"Stale from previous session, not relevant to current plan"}
{"id":"dctech.events-3gd","title":"Phase 1.3: Adapt CognitoStack with custom domain","status":"closed","priority":1,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-16T14:09:18.145630865-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T14:14:15.697848377-05:00","closed_at":"2026-02-16T14:14:15.697848377-05:00","close_reason":"CognitoStack supports custom domain (login.dctech.events) via props. Callback URLs for suggest/manage configured in config.ts.","dependencies":[{"issue_id":"dctech.events-3gd","depends_on_id":"dctech.events-5ur","type":"blocks","created_at":"2026-02-16T14:11:28.057700227-05:00","created_by":"Ross Karchner"}]}
{"id":"dctech.events-3kx","title":"Develop OpenAPI specification for Bedrock/MCP integration","description":"Bedrock Agents require an OpenAPI 3.0 specification to understand and interact with the API Gateway. Document existing public and submission endpoints, ensuring they are structured for LLM consumption. Include schemas for events, groups, and submission drafts.","status":"open","priority":2,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T14:46:49.550352415-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T14:46:49.550352415-05:00"}
{"id":"dctech.events-46j","title":"Auth: show sign-in message instead of redirect","status":"closed","priority":1,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T12:11:54.766454618-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T12:16:22.804847083-05:00","closed_at":"2026-02-17T12:16:22.804847083-05:00","close_reason":"Closed"}
{"id":"dctech.events-486","title":"Phase 3.3: Update documentation (AGENTS.md, CLAUDE.md)","status":"closed","priority":3,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-16T19:43:15.819604006-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T23:04:48.421657858-05:00","closed_at":"2026-02-16T23:04:48.421657858-05:00","close_reason":"Rewrote AGENTS.md for new cloud-native architecture","dependencies":[{"issue_id":"dctech.events-486","depends_on_id":"dctech.events-pbq","type":"blocks","created_at":"2026-02-16T19:43:21.118683506-05:00","created_by":"Ross Karchner"}]}
{"id":"dctech.events-5mx","title":"Fix Micropub posting: form-encoded + short note for newsletter","status":"closed","priority":1,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-02T09:42:29.530657741-05:00","created_by":"Ross Karchner","updated_at":"2026-02-02T09:58:23.2439636-05:00","closed_at":"2026-02-02T09:58:23.2439636-05:00","close_reason":"Implemented form-encoded Micropub for both scripts, short note for newsletter"}
{"id":"dctech.events-5ur","title":"Phase 1.1: Recreate TypeScript sources for JS-only CDK stacks","status":"closed","priority":1,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-16T14:09:11.466075052-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T14:14:07.734218386-05:00","closed_at":"2026-02-16T14:14:07.734218386-05:00","close_reason":"Created dynamodb-stack.ts, cognito-stack.ts, secrets-stack.ts, interfaces.ts. Updated config.ts with missing sections. tsc --noEmit passes."}
{"id":"dctech.events-770","title":"Support API Key authentication in backend/auth.py","description":"Update get_user_from_event to support both Cognito JWTs (Authorization header) and API Keys (x-api-key header). API Keys should be validated against DynamoDB and translated into claims (email, groups) similar to Cognito JWTs to maintain consistent authorization logic.","status":"closed","priority":2,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T07:51:49.634630557-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T11:17:03.070440193-05:00","closed_at":"2026-02-17T11:17:03.070440193-05:00","close_reason":"Stale from previous session, not relevant to current plan"}
{"id":"dctech.events-7c1","title":"Phase 2.5: Create FrontendStack for S3/CloudFront hosting","status":"closed","priority":2,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-16T19:43:13.381125324-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T23:01:31.81104902-05:00","closed_at":"2026-02-16T23:01:31.81104902-05:00","close_reason":"All Phase 2 frontend and infrastructure work complete","dependencies":[{"issue_id":"dctech.events-7c1","depends_on_id":"dctech.events-821","type":"blocks","created_at":"2026-02-16T19:43:20.954621487-05:00","created_by":"Ross Karchner"}]}
{"id":"dctech.events-821","title":"Phase 2.1: Create backend/ API (handler, routes, db, auth, templates)","status":"closed","priority":1,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-16T19:43:10.386875464-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T19:46:13.587603431-05:00","closed_at":"2026-02-16T19:46:13.587603431-05:00","close_reason":"Created backend/ with handler, routes (public, submit, admin), db, auth, templates"}
{"id":"dctech.events-8tz","title":"Phase 1.5: Create DynamoDB data access layer (dynamo_data.py)","status":"closed","priority":2,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-16T14:09:18.244586671-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T14:16:36.272284156-05:00","closed_at":"2026-02-16T14:16:36.272284156-05:00","close_reason":"Created dynamo_data.py with get_all_groups(), get_all_categories(), get_single_events(), get_event_override(). Feature flag USE_DYNAMO_DATA=1 with YAML fallback.","dependencies":[{"issue_id":"dctech.events-8tz","depends_on_id":"dctech.events-nth","type":"blocks","created_at":"2026-02-16T14:11:28.212865233-05:00","created_by":"Ross Karchner"}]}
{"id":"dctech.events-9li","title":"Phase 2.2: Wire LambdaApiStack into CDK entry point","status":"closed","priority":1,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-16T19:43:11.251349889-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T19:46:39.229659783-05:00","closed_at":"2026-02-16T19:46:39.229659783-05:00","close_reason":"Wired LambdaApiStack into infrastructure.ts entry point","dependencies":[{"issue_id":"dctech.events-9li","depends_on_id":"dctech.events-821","type":"blocks","created_at":"2026-02-16T19:43:20.869323353-05:00","created_by":"Ross Karchner"}]}
{"id":"dctech.events-9n0","title":"Combine dctech.events and next.dctech.events functionality","description":"The main body of the site should remain statically generated and cached for 24 hours, but the API routes should also live on that domain and eliminate the need for the 'next' domain and cloudfront distribution.","status":"closed","priority":1,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T07:44:02.70002351-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T11:17:03.064380876-05:00","closed_at":"2026-02-17T11:17:03.064380876-05:00","close_reason":"Stale from previous session, not relevant to current plan"}
{"id":"dctech.events-bt5","title":"Enhance API routes for JSON output and MCP tools","description":"Update backend routes (public.py, submit.py) to support JSON responses. Bedrock Agents and MCP clients prefer JSON over the current HTML fragments used for HTMX. Use content-negotiation or specific paths (e.g., /api/v1/*) to deliver JSON.","status":"closed","priority":2,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T07:51:54.693302132-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T11:17:03.067609479-05:00","closed_at":"2026-02-17T11:17:03.067609479-05:00","close_reason":"Stale from previous session, not relevant to current plan"}
{"id":"dctech.events-ce2","title":"Enforce role-based access control for API keys","description":"Ensure that API keys correctly respect user authority. Keys associated with 'regular' users should only be able to suggest events/groups, query the events store, and view their own submissions. Only 'admin' keys (or JWTs) should have access to /admin/* routes. This must be strictly enforced in admin_check and other auth wrappers.","status":"open","priority":1,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T14:47:09.824433249-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T14:47:09.824433249-05:00"}
{"id":"dctech.events-d2m","title":"Show hidden status in editor event list","description":"The editor should visually indicate which events have been marked as hidden (have a _event_overrides file with hidden: true). Add a badge or icon in templates/edit_list.html to show hidden status for each event.","status":"closed","priority":2,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-01-31T23:51:21.346223255-05:00","created_by":"Ross Karchner","updated_at":"2026-01-31T23:55:14.581318187-05:00","closed_at":"2026-01-31T23:55:14.581318187-05:00","close_reason":"Added 'HIDDEN' badge in editor event list to visually indicate events marked as hidden. Modified app.py to include hidden events in editor but filter them from public pages."}
{"id":"dctech.events-dc7","title":"Implement API Key storage and management in DynamoDB","description":"Add support for API_KEY entities in the single-table DynamoDB design. PK: APIKEY#{key}, SK: META. GSI1PK: USER#{email}, GSI1SK: APIKEY#{key}. Include fields for user_email, role (regular/admin), and metadata. Update backend/db.py with CRUD operations for API keys.","status":"closed","priority":2,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T07:51:44.584290938-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T11:17:03.073412518-05:00","closed_at":"2026-02-17T11:17:03.073412518-05:00","close_reason":"Stale from previous session, not relevant to current plan"}
{"id":"dctech.events-doy","title":"Build DynamoDB Streams → SQS → Lambda rebuild pipeline","description":"When data changes in the dctech-events config table, trigger a debounced site rebuild. Architecture: DynamoDB Streams on dctech-events table → dispatcher Lambda → SQS FIFO queue (60s dedup window) → rebuild worker Lambda that runs generate_month_data.py + freeze.py + sync to S3 + CloudFront invalidation. Need: RebuildStack CDK stack, stream_dispatcher Lambda, rebuild_worker Lambda (Docker), SQS FIFO queue.","status":"closed","priority":1,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T11:17:26.591441415-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T11:43:56.45969735-05:00","closed_at":"2026-02-17T11:43:56.45969735-05:00","close_reason":"Rebuild pipeline deployed and tested: DynamoDB stream → SQS → Lambda → S3/CloudFront. AI Expo event visible on dctech.events/2026/5/ after approval."}
{"id":"dctech.events-e3t","title":"Archive YAML data files after DynamoDB migration confirmed","description":"Remove _groups/, _categories/, _single_events/, _event_overrides/ directories from working tree. They remain in git history. Only do after confirming DynamoDB migration is complete and site rebuilds correctly from DynamoDB data.","status":"closed","priority":3,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-17T11:17:30.275498253-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T11:45:23.116775546-05:00","closed_at":"2026-02-17T11:45:23.116775546-05:00","close_reason":"195 YAML files removed; data confirmed in DynamoDB (130 groups, 23 categories, 36+ events, 5 overrides)"}
{"id":"dctech.events-e47","title":"Events: query DcTechEvents for deduped list","status":"closed","priority":1,"issue_type":"bug","owner":"ross@karchner.com","created_at":"2026-02-17T12:11:54.788614692-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T12:16:22.806334593-05:00","closed_at":"2026-02-17T12:16:22.806334593-05:00","close_reason":"Closed"}
{"id":"dctech.events-f81","title":"Phase 1.6: Migration scripts (YAML-\u003eDynamoDB)","status":"closed","priority":2,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-16T14:09:18.280764146-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T14:19:52.159808659-05:00","closed_at":"2026-02-16T14:19:52.159808659-05:00","close_reason":"Created migrate_groups.py, migrate_categories.py, migrate_single_events.py, rewrote migrate_overrides.py, created run_all_migrations.py orchestrator. Dry-run verified: 23 cats, 130 groups, 36 events, 5 overrides.","dependencies":[{"issue_id":"dctech.events-f81","depends_on_id":"dctech.events-8tz","type":"blocks","created_at":"2026-02-16T14:11:28.26393227-05:00","created_by":"Ross Karchner"}]}
{"id":"dctech.events-hgy","title":"Enhance API routes for JSON output and MCP tools","description":"Update backend routes (public.py, submit.py) to support JSON responses. Bedrock Agents and MCP clients prefer JSON over the current HTML fragments used for HTMX. Use content-negotiation or specific paths (e.g., /api/v1/*) to deliver JSON.","status":"open","priority":2,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T14:47:04.755933032-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T14:47:04.755933032-05:00"}
{"id":"dctech.events-i5q","title":"Phase 3.1: Disable GitHub Actions workflows","status":"closed","priority":3,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-16T19:43:14.317902664-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T23:04:01.993112946-05:00","closed_at":"2026-02-16T23:04:01.993112946-05:00","close_reason":"Completed: disabled GitHub Actions, removed Octokit/OAuth code, routes, templates, and dependencies","dependencies":[{"issue_id":"dctech.events-i5q","depends_on_id":"dctech.events-7c1","type":"blocks","created_at":"2026-02-16T19:43:21.016185156-05:00","created_by":"Ross Karchner"}]}
{"id":"dctech.events-kl2","title":"Phase 1.7: Wire up CDK entry point and config","status":"closed","priority":1,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-16T14:09:18.324153909-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T14:19:52.182316354-05:00","closed_at":"2026-02-16T14:19:52.182316354-05:00","close_reason":"Updated bin/infrastructure.ts to instantiate all stacks. Updated config.ts with cognito, secrets, chalice, features, rebuild sections.","dependencies":[{"issue_id":"dctech.events-kl2","depends_on_id":"dctech.events-5ur","type":"blocks","created_at":"2026-02-16T14:11:28.101935923-05:00","created_by":"Ross Karchner"}]}
{"id":"dctech.events-nqh","title":"Enforce role-based access control for API keys","description":"Ensure that API keys correctly respect user authority. Keys associated with 'regular' users should only be able to suggest events/groups, query the events store, and view their own submissions. Only 'admin' keys (or JWTs) should have access to /admin/* routes. This must be strictly enforced in admin_check and other auth wrappers.","status":"closed","priority":1,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T07:51:59.765073908-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T11:17:03.057752089-05:00","closed_at":"2026-02-17T11:17:03.057752089-05:00","close_reason":"Stale from previous session, not relevant to current plan"}
{"id":"dctech.events-nth","title":"Phase 1.2: Adapt DynamoDB config table with streams","status":"closed","priority":1,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-16T14:09:18.107131888-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T14:14:15.607025391-05:00","closed_at":"2026-02-16T14:14:15.607025391-05:00","close_reason":"DynamoDB Streams (NEW_AND_OLD_IMAGES) enabled in dynamodb-stack.ts. Table name dctech-events, PK/SK + 3 GSIs, TTL attribute.","dependencies":[{"issue_id":"dctech.events-nth","depends_on_id":"dctech.events-5ur","type":"blocks","created_at":"2026-02-16T14:11:27.999892951-05:00","created_by":"Ross Karchner"}]}
{"id":"dctech.events-pbq","title":"Phase 3.2: Remove Octokit/GitHub OAuth code","status":"closed","priority":3,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-16T19:43:15.032987959-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T23:04:01.994701377-05:00","closed_at":"2026-02-16T23:04:01.994701377-05:00","close_reason":"Completed: disabled GitHub Actions, removed Octokit/OAuth code, routes, templates, and dependencies","dependencies":[{"issue_id":"dctech.events-pbq","depends_on_id":"dctech.events-7c1","type":"blocks","created_at":"2026-02-16T19:43:21.068430467-05:00","created_by":"Ross Karchner"}]}
{"id":"dctech.events-sd3","title":"Support API Key authentication in backend/auth.py","description":"Update get_user_from_event to support both Cognito JWTs (Authorization header) and API Keys (x-api-key header). API Keys should be validated against DynamoDB and translated into claims (email, groups) similar to Cognito JWTs to maintain consistent authorization logic.","status":"open","priority":2,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T14:46:59.681411883-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T14:46:59.681411883-05:00"}
{"id":"dctech.events-v4y","title":"Update AGENTS.md and CLAUDE.md for new architecture","description":"Rewrite AGENTS.md to describe new cloud architecture (DynamoDB, Cognito, Lambda, CloudFront). Update CLAUDE.md. Archive/remove next/spec.md.","status":"closed","priority":3,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-17T11:17:32.252423944-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T11:46:24.479014482-05:00","closed_at":"2026-02-17T11:46:24.479014482-05:00","close_reason":"AGENTS.md updated for new architecture; CLAUDE.md is minimal (just 'Study AGENTS.md'); next/spec.md removed"}
{"id":"dctech.events-v7p","title":"Phase 2.4: Create manage.dctech.events frontend","status":"closed","priority":2,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-16T19:43:12.654068447-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T23:01:31.808962258-05:00","closed_at":"2026-02-16T23:01:31.808962258-05:00","close_reason":"All Phase 2 frontend and infrastructure work complete","dependencies":[{"issue_id":"dctech.events-v7p","depends_on_id":"dctech.events-821","type":"blocks","created_at":"2026-02-16T19:43:20.919809994-05:00","created_by":"Ross Karchner"}]}
{"id":"dctech.events-w9e","title":"Phase 1.4: Create rebuild pipeline (Stream-\u003eSQS-\u003eLambda)","status":"closed","priority":2,"issue_type":"task","owner":"ross@karchner.com","created_at":"2026-02-16T14:09:18.191080076-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T14:16:36.251273124-05:00","closed_at":"2026-02-16T14:16:36.251273124-05:00","close_reason":"Created rebuild-stack.ts, stream_dispatcher/handler.py, rebuild_worker/handler.py + Dockerfile + requirements.txt","dependencies":[{"issue_id":"dctech.events-w9e","depends_on_id":"dctech.events-nth","type":"blocks","created_at":"2026-02-16T14:11:28.167055196-05:00","created_by":"Ross Karchner"}]}
{"id":"dctech.events-we6","title":"Events: add Edit button per row","status":"closed","priority":2,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-17T12:11:54.832060137-05:00","created_by":"Ross Karchner","updated_at":"2026-02-17T12:16:22.807689743-05:00","closed_at":"2026-02-17T12:16:22.807689743-05:00","close_reason":"Closed"}
{"id":"dctech.events-z3x","title":"Phase 2.3: Create suggest.dctech.events frontend","status":"closed","priority":2,"issue_type":"feature","owner":"ross@karchner.com","created_at":"2026-02-16T19:43:12.030216747-05:00","created_by":"Ross Karchner","updated_at":"2026-02-16T23:01:31.806367105-05:00","closed_at":"2026-02-16T23:01:31.806367105-05:00","close_reason":"All Phase 2 frontend and infrastructure work complete","dependencies":[{"issue_id":"dctech.events-z3x","depends_on_id":"dctech.events-821","type":"blocks","created_at":"2026-02-16T19:43:20.892319066-05:00","created_by":"Ross Karchner"}]}
