<div class="edit-form">
    <h3>Edit Event: {{ event.title }}</h3>
    
    {% if message %}
    <div class="alert alert-{{ message_type }}">
        {{ message }}
    </div>
    {% endif %}
    
    <form hx-post="{{ api_base_url }}/api/events/edit/{{ event.id }}" 
          hx-target="#events-content"
          hx-swap="outerHTML"
          hx-vals='{"month": "{{ event.month }}", "sort": "{{ event.sort }}"}'>
        
        <div class="form-group">
            <label for="title">Event Title:</label>
            <input type="text" id="title" name="title" value="{{ form.title.data }}" required>
            {% if form.title.errors %}
            <div class="form-error">{{ form.title.errors[0] }}</div>
            {% endif %}
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="event_date">Date:</label>
                <input type="date" id="event_date" name="event_date" value="{{ form.event_date.data.strftime('%Y-%m-%d') }}" required>
                {% if form.event_date.errors %}
                <div class="form-error">{{ form.event_date.errors[0] }}</div>
                {% endif %}
            </div>
            
            <div class="form-group time-group">
                <label>Time:</label>
                <div class="time-inputs">
                    <select id="event_hour" name="event_hour">
                        {% for hour_value, hour_label in form.event_hour.choices %}
                        <option value="{{ hour_value }}" {% if hour_value == form.event_hour.data %}selected{% endif %}>{{ hour_label }}</option>
                        {% endfor %}
                    </select>
                    <span>:</span>
                    <select id="event_minute" name="event_minute">
                        {% for minute_value, minute_label in form.event_minute.choices %}
                        <option value="{{ minute_value }}" {% if minute_value == form.event_minute.data %}selected{% endif %}>{{ minute_label }}</option>
                        {% endfor %}
                    </select>
                    <select id="event_ampm" name="event_ampm">
                        {% for ampm_value, ampm_label in form.event_ampm.choices %}
                        <option value="{{ ampm_value }}" {% if ampm_value == form.event_ampm.data %}selected{% endif %}>{{ ampm_label }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>
        
        <div class="form-group">
            <label for="location">Location:</label>
            <input type="text" id="location" name="location" value="{{ form.location.data }}">
            {% if form.location.errors %}
            <div class="form-error">{{ form.location.errors[0] }}</div>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="url">Event URL:</label>
            <input type="url" id="url" name="url" value="{{ form.url.data }}" required>
            {% if form.url.errors %}
            <div class="form-error">{{ form.url.errors[0] }}</div>
            {% endif %}
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save Changes</button>
            <button type="button" class="btn btn-secondary" 
                    hx-get="{{ api_base_url }}/api/events/manage"
                    hx-target="#events-content"
                    hx-swap="outerHTML">
                Cancel
            </button>
        </div>
    </form>
</div>

<style>
    .edit-form {
        background-color: #f9f9f9;
        border-radius: 8px;
        padding: 20px;
        margin: 10px 0;
    }
    
    .form-group {
        margin-bottom: 15px;
    }
    
    .form-row {
        display: flex;
        gap: 20px;
        margin-bottom: 15px;
    }
    
    .time-group {
        flex: 1;
    }
    
    .time-inputs {
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }
    
    .form-group input, .form-group select {
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 4px;
        box-sizing: border-box;
    }
    
    .form-group input {
        width: 100%;
    }
    
    .form-error {
        color: #dc3545;
        font-size: 14px;
        margin-top: 5px;
    }
    
    .form-actions {
        display: flex;
        gap: 10px;
        margin-top: 20px;
    }
    
    .btn-primary {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
    }
    
    .btn-secondary {
        background-color: #6c757d;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
    }
    
    .alert {
        padding: 10px;
        margin-bottom: 15px;
        border-radius: 4px;
    }
    
    .alert-success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    }
    
    .alert-error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }
</style>