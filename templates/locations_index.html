{% extends "base.html" %}

{% block title %}Locations - {{ site_name }}{% endblock %}

{% block content %}
<div class="home-container">
    <section class="events-section">
        <h2>Events by Location</h2>
        
        <h3>Regions</h3>
        <ul>
            {% for region, count in location_stats.items() %}
                <li>
                    <a href="/locations/{{ region.split()[0].lower() if region != 'Washington DC' else 'dc' }}/">
                        {{ region }}
                    </a> ({{ count }} events)
                </li>
            {% endfor %}
        </ul>
        
        {% if city_stats %}
        <h3>Cities</h3>
        <ul>
            {% for city_state, count in city_stats.items() %}
                {% set city, state = city_state.split(', ') %}
                <li>
                    <a href="/locations/{{ state.lower() }}/{{ city.lower().replace(' ', '-') }}/">
                        {{ city_state }}
                    </a> ({{ count }} events)
                </li>
            {% endfor %}
        </ul>
        {% endif %}
    </section>
</div>
{% endblock %}